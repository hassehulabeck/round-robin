<html>
<head>
  <meta charset="utf-8">
  <link href="style.css" rel="stylesheet">
  <script>

    function getMatches(antal) {
      // create players.
      spelare = [];
      for (let i=0; i<antal; i++) {
        spelare.push(String.fromCharCode(65 + i));
      }

      // Skapa matcher per omgång.
      var allMatches = [];
      var otherPlayers = spelare.slice(1);

      for (let i=1; i <= antal-1; i++) {
        var thisRound = [];
        var j = i-1; // För index till matchesByRound
        thisRound.push(spelare[0]);
        allMatches.push(thisRound.concat(otherPlayers));

        // Rotera spelare i otherPlayers
        var firstPlayer = otherPlayers.shift();
        otherPlayers.push(firstPlayer);
      }


      var stringResult = "";
      var counter = 1;

      //Skapa sträng för utskrift, en omgång i taget.
      allMatches.forEach(function(round){
        stringResult += `<h2>Omgång ${counter}</h2><ul>`;
        for (let i=0; i < antal/2; i++) {
          let last = antal - i - 1;
          let str = "";
          if (round[i] != round[last])
            str = `<li>${round[i]} - ${round[last]}</li>`;
          else
            str = `<li>${round[i]} står över den här omgången.`;
          stringResult += str;
        }
        counter++;
        stringResult += `</ul>`;
      })
      return stringResult;

      console.log(allMatches);
    }

    document.addEventListener('DOMContentLoaded', ()=>{
      var knapp = document.getElementsByTagName('button');
      var input = document.getElementsByTagName('input');
      var output = document.getElementsByTagName('div');
      knapp[0].addEventListener('click', function(){
        var antal = input[0].value;
        output[0].innerHTML = getMatches(antal);
      })
    });
  </script>
</head>
<body>
  <label for="antal">Ange antal spelare</label>
  <input type="text" name="antal" value="6">
  <button>Generera matcher</button>
  <div>
  </div>
</body>
</html>
